"use strict";angular.module("customersStoresUiApp",["ngAnimate","ngCookies","ngResource","ui.router","ngSanitize","ngTouch","google-maps"]).config(function(){}),angular.module("customersStoresUiApp").config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/customers"),a.state("customers",{url:"/customers",controller:"CustomerController",templateUrl:"views/customers.html"}).state("addCustomer",{url:"/customers/add",controller:"AddCustomerController",templateUrl:"views/add-customer.html"}).state("customerDetails",{url:"/customers/{customerId}",controller:"CustomerDetailsController",templateUrl:"views/customer-details.html"}).state("about",{url:"/about",templateUrl:"views/about.html"})}]),angular.module("customersStoresUiApp").controller("CustomerController",["$scope","$log","$http","$state",function(a,b,c,d){a.addCustomer=function(){d.go("addCustomer")},a.viewCustomerDetails=function(a){b.info("Show details for customer with Id: "+a.id),d.go("customerDetails",{customerId:a.id})},a.deleteCustomer=function(d){b.info("Deleting customer with Id: "+d.id),c.delete("/customers/"+d.id).then(function(){a.loadCustomers()})},a.loadCustomers=function(){var d=c.get("/customers");d.then(function(c){b.info("Retrieved customers",c),c.data._embedded&&(a.customers=c.data._embedded.customers)})},a.loadCustomers()}]).controller("AddCustomerController",["$scope","$state","$log","$http",function(a,b,c,d){a.map={center:{latitude:45,longitude:-73},zoom:12},a.customer={firstName:"",lastName:"",address:{location:{latitude:0,longitude:0}}},a.goBack=function(){b.go("customers")},a.getMyLocation=function(){c.info("Retrieving Location Information"),navigator.geolocation.getCurrentPosition(function(b){c.info("Location data retrieved",b);var d=b.coords;a.$apply(function(){a.customer.address.location.latitude=d.latitude,a.customer.address.location.longitude=d.longitude})})},a.submitCustomer=function(){c.info("Adding New Customer",a.customer);var e=d.post("/customers",a.customer);e.then(function(a){c.info(a),b.go("customers")})},a.$watch("customer.address.location",function(){a.customer.address.location.latitude&&a.customer.address.location.longitude&&(a.map.center.latitude=a.customer.address.location.latitude,a.map.center.longitude=a.customer.address.location.longitude)},!0)}]).controller("CustomerDetailsController",["$scope","$state","$stateParams","$http","$log",function(a,b,c,d,e){var f=c.customerId,g=d.get("/customers/"+f);g.then(function(b){e.info(b),a.customer=b.data,a.map={center:{latitude:a.customer.address.location.latitude,longitude:a.customer.address.location.longitude},zoom:12},e.info("Map Data",a.Map)}),a.goBack=function(){b.go("customers")},a.map={center:{latitude:45,longitude:-73},zoom:12}}]),angular.module("customersStoresUiApp").controller("AboutController",["$scope",function(a){a.awesomeThings=["Spring"]}]);